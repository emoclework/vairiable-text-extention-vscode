# novel-extention README

この拡張機能「novel-extention」は、小説や脚本などの執筆活動を支援するために開発されました。
テキスト内の特定の文字列（プレースホルダー）を定義済みの単語やフレーズに置き換えたり、執筆に便利な機能を提供します。

## Features

この拡張機能は、執筆効率を向上させるための以下の主要な機能を提供します。

### 1. プレースホルダーによる動的テキスト管理

原稿内で `{キャラクター名}` や `{場所}` のようなプレースホルダーを使用すると、あらかじめ設定した値に自動的に置き換えられます。これにより、名前や設定の変更が一括で行え、修正漏れを防ぎます。

使用例:
`{主人公}は{アイテム}を手に取り、{目的地}へと向かった。`

上記のテキストは、設定に応じて以下のように展開されます。
`アリスは魔法の杖を手に取り、禁断の森へと向かった。`

### 2. リアルタイムプレビューと装飾

エディタ上で、プレースホルダーが解決された値で表示されます。元のプレースホルダー（例: `{主人公}`）は、マウスホバーすることで確認できます。カーソルがプレースホルダー上にある場合は、元のキーが表示され編集しやすくなります。
また、`//` で始まるコメント行や、行の末尾にあるコメントは、視覚的に分かりやすいように特定のスタイルで表示されます。

（ここに拡張機能の動作を示すスクリーンショットやアニメーションを挿入することを推奨します。例: `images/feature-x.png`）

> ヒント: 多くの人気拡張機能ではアニメーションGIFを利用して機能を紹介しています。これは拡張機能の魅力を伝える素晴らしい方法です！短く、分かりやすいアニメーションを作成することをお勧めします。

### 3. サイドバーでの単語管理

VS Codeのアクティビティバーに追加される専用ビューから、プレースホルダーとして使用する単語（キーと値のペア）を簡単に登録、編集、削除できます。

### 4. 変換後の文字数カウント

ステータスバーに、プレースホルダーを展開し、コメントを除去した後の実際の文字数を表示します。執筆量の把握に役立ちます。

### 5. 変換結果のファイル保存

編集中のファイルに対してプレースホルダーの展開とコメントの除去を行い、その結果を新しいファイルとして保存する機能を提供します。これにより、提出用や公開用の最終稿を簡単に作成できます。

## Requirements

この拡張機能を使用するための特別な要件や依存関係はありません。VS Codeがインストールされていればすぐに利用開始できます。

## Extension Settings

この拡張機能は、以下のVS Code設定項目を提供します。

*   `novelExtension.wordListFilePath`: プレースホルダーとして使用する単語リストを保存するJSONファイルのパスを指定します。
    *   デフォルト値: `.vscode/novelWords.json`
    *   ワークスペースフォルダからの相対パス、または絶対パスで指定できます。
    *   設定が変更されると、単語リストは自動的に再読み込みされます。

## コマンド一覧

この拡張機能は、以下のコマンドをコマンドパレット経由で提供します。

*   `小説拡張: 単語リストを更新 (novelExtension.refreshWordList)`: サイドバーに表示されている単語リストを最新の状態に更新します。
*   `小説拡張: 変換してファイルを保存 (customTextTransformer.transformAndSaveFile)`: 現在アクティブなエディタのテキストを変換し、新しいファイルとして保存します。
*   `小説拡張: テキスト装飾を更新 (customTextTransformer.refreshDecorations)`: エディタ上のプレースホルダーやコメントの装飾を強制的に再描画します。



